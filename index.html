<!DOCTYPE html>
<html lang="uz">
<head>
  <meta charset="UTF-8">
  <title>Reklama orqali pul ishlash</title>
  <!-- Telegram WebApp SDK: faqat Telegram ichida ishlashi uchun -->
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <!-- Adexium reklamalarini chiqarish uchun skript -->
  <script src="https://cdn.tgads.space/assets/js/adexium-widget.min.js"></script>
  <style>
    body { font-family: Arial, sans-serif; text-align: center; margin-top: 50px; }
    #balance { font-size: 22px; margin: 20px; }
    button { padding: 15px 30px; font-size: 18px; cursor: pointer; border-radius: 8px; }
  </style>
</head>
<body>
  <h2>üé• Reklama orqali pul ishlash</h2>
  <div id="balance">Balans: 0 ‚ÇΩ</div>
  <button id="adButton">Reklamani ko‚Äòr</button>

  <script>
    // Balansni brauzerga saqlash: localStorage
    let balance = parseFloat(localStorage.getItem("balance")) || 0;
    const balanceEl = document.getElementById("balance");
    balanceEl.innerText = "Balans: " + balance.toFixed(2) + " ‚ÇΩ";
    const adButton = document.getElementById("adButton");

    document.addEventListener("DOMContentLoaded", () => {
      window.adexiumWidget = new AdexiumWidget({
        wid: "2cfcb775-b0ce-42b1-b28f-ce29509bc0f9", // O'zingning WID'ingni yoz
        adFormat: "interstitial"
      });
    });

    adButton.addEventListener("click", () => {
      window.adexiumWidget.show()
        .then(() => {
          balance += 0.02;  // Har reklama tugagach 0.02 ‚ÇΩ qo‚Äòshiladi
          localStorage.setItem("balance", balance);
          balanceEl.innerText = "Balans: " + balance.toFixed(2) + " ‚ÇΩ";
          alert("‚úÖ Reklama tugadi. Sizga 0.02 ‚ÇΩ qo‚Äòshildi!");
        })
        .catch(() => {
          alert("‚ö†Ô∏è Reklama ko‚Äòrsatilmadi.");
        });
    });
  </script>
</body>
</html>
